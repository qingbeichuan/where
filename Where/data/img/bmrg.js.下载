(function(a){var e,c,b,g=a.document;if(typeof BOOMR==="undefined"){BOOMR={};}if(BOOMR.version){return;}BOOMR.version="0.9";e={beacon_url:"",site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",events:{page_ready:[],page_unload:[],visibility_changed:[],before_beacon:[]},vars:{},disabled_plugins:{},fireEvent:function(d,l){var j,k,m;if(!this.events.hasOwnProperty(d)){return false;}m=this.events[d];for(j=0;j<m.length;j++){k=m[j];k[0].call(k[2],l,k[1]);}return true;},addListener:function(i,j,h,d){if(i.addEventListener){i.addEventListener(j,h,(d));}else{if(i.attachEvent){i.attachEvent("on"+j,h);}}}};c={utils:{getCookie:function(d){if(!d){return null;}d=" "+d+"=";var h,j;j=" "+g.cookie+";";if((h=j.indexOf(d))>=0){h+=d.length;j=j.substring(h,j.indexOf(";",h));return j;}return null;},setCookie:function(h,d,n,r,l,m){var q="",j,p,o,i="";if(!h){return false;}for(j in d){if(d.hasOwnProperty(j)){q+="&"+encodeURIComponent(j)+"="+encodeURIComponent(d[j]);}}q=q.replace(/^&/,"");if(n){i=new Date();i.setTime(i.getTime()+n*1000);i=i.toGMTString();}p=h+"="+q;o=p+((n)?"; expires="+i:"")+((r)?"; path="+r:"")+((typeof l!=="undefined")?"; domain="+(l!==null?l:e.site_domain):"")+((m)?"; secure":"");if(p.length<4000){g.cookie=o;return(q===this.getCookie(h));}return false;},getSubCookies:function(k){var j,h,d,n,m={};if(!k){return null;}j=k.split("&");if(j.length===0){return null;}for(h=0,d=j.length;h<d;h++){n=j[h].split("=");n.push("");m[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);}return m;},removeCookie:function(d){return this.setCookie(d,{},0,"/",null);},pluginConfig:function(m,d,k,j){var h,l=0;if(!d||!d[k]){return false;}for(h=0;h<j.length;h++){if(typeof d[k][j[h]]!=="undefined"){m[j[h]]=d[k][j[h]];l++;}}return(l>0);}},init:function(h){var l,d,j=["beacon_url","site_domain","user_ip"];if(!h){h={};}for(l=0;l<j.length;l++){if(typeof h[j[l]]!=="undefined"){e[j[l]]=h[j[l]];}}if(typeof h.log!=="undefined"){this.log=h.log;}if(!this.log){this.log=function(i,k,n){};}for(d in this.plugins){if(h[d]&&typeof h[d].enabled!=="undefined"&&h[d].enabled===false){e.disabled_plugins[d]=1;continue;}else{if(e.disabled_plugins[d]){delete e.disabled_plugins[d];}}if(this.plugins.hasOwnProperty(d)&&typeof this.plugins[d].init==="function"){this.plugins[d].init(h);}}if(typeof h.autorun==="undefined"||h.autorun!==false){e.addListener(a,"load",function(){e.fireEvent("page_ready");});}e.addListener(g,"webkitvisibilitychange",function(){e.fireEvent("visibility_changed");});e.addListener(a,"unload",function(){a=null;});return this;},page_ready:function(){e.fireEvent("page_ready");return this;},subscribe:function(d,m,j,o){var k,l,n;if(!e.events.hasOwnProperty(d)){return this;}n=e.events[d];for(k=0;k<n.length;k++){l=n[k];if(l[0]===m&&l[1]===j&&l[2]===o){return this;}}n.push([m,j||{},o||null]);if(d==="page_unload"){e.addListener(a,"unload",function(){if(m){m.call(o,null,j);}m=o=j=null;});e.addListener(a,"beforeunload",function(){if(m){m.call(o,null,j);}m=o=j=null;});}return this;},addVar:function(h,i){if(typeof h==="string"){e.vars[h]=i;}else{if(typeof h==="object"){var j=h,d;for(d in j){if(j.hasOwnProperty(d)){e.vars[d]=j[d];}}}}return this;},removeVar:function(){var d,h;if(!arguments.length){return this;}if(arguments.length===1&&Object.prototype.toString.apply(arguments[0])==="[object Array]"){h=arguments[0];}else{h=arguments;}for(d=0;d<h.length;d++){if(e.vars.hasOwnProperty(h[d])){delete e.vars[h[d]];}}return this;},sendBeacon:function(){var i,j,h,d=0;for(i in this.plugins){if(this.plugins.hasOwnProperty(i)){if(e.disabled_plugins[i]){continue;}if(!this.plugins[i].is_complete()){return this;}}}e.fireEvent("before_beacon",e.vars);if(!e.beacon_url){return this;}j=e.beacon_url+"?v="+encodeURIComponent(BOOMR.version)+"&u="+encodeURIComponent(g.URL.replace(/#.*/,""));for(i in e.vars){if(e.vars.hasOwnProperty(i)){d++;j+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e.vars[i]);}}if(d){h=new Image();h.src=j;}return this;}};var f=function(d){return function(h,i){this.log(h,d,"boomerang"+(i?"."+i:""));return this;};};c.debug=f("debug");c.info=f("info");c.warn=f("warn");c.error=f("error");if(a.YAHOO&&a.YAHOO.widget&&a.YAHOO.widget.Logger){c.log=a.YAHOO.log;}else{if(typeof a.Y!=="undefined"&&typeof a.Y.log!=="undefined"){c.log=a.Y.log;}else{if(typeof console!=="undefined"&&typeof console.log!=="undefined"){c.log=function(d,h,i){console.log(i+": ["+h+"] ",d);};}}}for(b in c){if(c.hasOwnProperty(b)){BOOMR[b]=c[b];}}BOOMR.plugins=BOOMR.plugins||{};}(window));(function(a){var c=a.document;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var b={complete:false,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:true,navigationStart:undefined,responseStart:undefined,start:function(){var e,d=new Date().getTime();if(!this.cookie){return this;}if(!BOOMR.utils.setCookie(this.cookie,{s:d,r:c.URL.replace(/#.*/,"")},this.cookie_exp,"/",null)){BOOMR.error("cannot set start cookie","rt");return this;}e=new Date().getTime();if(e-d>50){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+d+" -> "+e,"rt");}return this;},initNavTiming:function(){var d,e;if(this.navigationStart){return;}e=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance;if(e&&e.timing){d=e.timing;}else{if(a.chrome&&a.chrome.csi){d={navigationStart:a.chrome.csi().startE,responseStart:undefined};BOOMR.addVar("rt.start","csi");}else{if(a.gtbExternal){d={navigationStart:a.gtbExternal.startE(),responseStart:undefined};BOOMR.addVar("rt.start","gtb");}}}if(d){BOOMR.addVar("rt.start","navigation");this.navigationStart=d.navigationStart||undefined;this.responseStart=d.responseStart||undefined;}else{BOOMR.warn("This browser doesn't support the WebTiming API","rt");}return;}};BOOMR.plugins.RT={init:function(d){b.complete=false;b.timers={};BOOMR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]);BOOMR.subscribe("page_ready",this.done,null,this);BOOMR.subscribe("page_unload",b.start,null,b);return this;},startTimer:function(d,e){if(d){if(d==="t_page"){this.endTimer("t_resp",e);}b.timers[d]={start:(typeof e==="number"?e:new Date().getTime())};b.complete=false;}return this;},endTimer:function(d,e){if(d){b.timers[d]=b.timers[d]||{};if(typeof b.timers[d].end==="undefined"){b.timers[d].end=(typeof e==="number"?e:new Date().getTime());}}return this;},setTimer:function(d,e){if(d){b.timers[d]={delta:e};}return this;},done:function(){var j,d,h,e,i={t_done:1,t_resp:1,t_page:1},g=0,k,f,l=[];if(b.complete){return this;}b.initNavTiming();if(document.webkitVisibilityState&&document.webkitVisibilityState==="prerender"){this.startTimer("t_load",b.navigationStart);this.endTimer("t_load");this.startTimer("t_prerender",b.navigationStart);this.startTimer("t_postrender");BOOMR.subscribe("visibility_changed",this.done,null,this);return this;}this.endTimer("t_done");if(b.responseStart){this.setTimer("t_resp",b.responseStart-b.navigationStart);if(b.timers.t_load){this.setTimer("t_page",b.timers.t_load.end-b.responseStart);}else{this.setTimer("t_page",new Date().getTime()-b.responseStart);}}else{if(b.timers.hasOwnProperty("t_page")){this.endTimer("t_page");}}if(b.timers.hasOwnProperty("t_postrender")){this.endTimer("t_postrender");this.endTimer("t_prerender");}d=h=c.referrer.replace(/#.*/,"");if(b.cookie){e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(b.cookie));BOOMR.utils.removeCookie(b.cookie);if(e!==null&&typeof e.s!=="undefined"&&typeof e.r!=="undefined"){d=e.r;if(!b.strict_referrer||d===h){j=parseInt(e.s,10);}}}if(j){BOOMR.addVar("rt.start","cookie");}else{j=b.navigationStart;}BOOMR.removeVar("t_done","t_page","t_resp","r","r2");for(k in b.timers){if(!b.timers.hasOwnProperty(k)){continue;}f=b.timers[k];if(typeof f.delta!=="number"){if(typeof f.start!=="number"){f.start=j;}f.delta=f.end-f.start;}if(isNaN(f.delta)){continue;}if(i.hasOwnProperty(k)){BOOMR.addVar(k,f.delta);}else{l.push(k+"|"+f.delta);}g++;}if(g){BOOMR.addVar("r",d);if(h!==d){BOOMR.addVar("r2",h);}if(l.length){BOOMR.addVar("t_other",l.join(","));}}b.timers={};b.complete=true;BOOMR.sendBeacon();return this;},is_complete:function(){return b.complete;}};}(window));
